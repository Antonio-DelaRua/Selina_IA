"\n"
"\n"
"# **ğŸ“Œ Microservicios en Python: GuÃ­a completa con ejemplo prÃ¡ctico**  \n"
"\n"
"## **Â¿QuÃ© son los microservicios?**  \n\n"
"Los **microservicios** son un enfoque arquitectÃ³nico para desarrollar aplicaciones como un conjunto de **servicios pequeÃ±os, independientes y comunicados entre sÃ­**. Cada microservicio tiene una responsabilidad especÃ­fica y funciona de manera autÃ³noma.  \n"
"\n"
"ğŸ”¹ **CaracterÃ­sticas principales:**  \n\n"
"âœ… **Independencia**: Cada servicio opera de forma autÃ³noma.  \n\n"
"âœ… **Escalabilidad**: Se pueden escalar individualmente.  \n\n"
"âœ… **Despliegue independiente**: Cada servicio se puede actualizar sin afectar a otros.  \n\n"
"âœ… **ComunicaciÃ³n entre servicios**: Generalmente mediante **APIs REST, gRPC o mensajerÃ­a** (RabbitMQ, Kafka, Redis).  \n\n"
"âœ… **Flexibilidad tecnolÃ³gica**: Diferentes microservicios pueden usar distintos lenguajes o bases de datos.  \n"
"\n"
"## **ğŸ“Œ Microservicios en un entorno Python**  \n\n"
"Python es una excelente opciÃ³n para microservicios debido a su **sencillez y ecosistema**. Las herramientas mÃ¡s utilizadas son:  \n"
"\n"
"ğŸ”¹ **Frameworks web:**  \n\n"
"- [FastAPI](https://fastapi.tiangolo.com/) ğŸš€ (el mÃ¡s rÃ¡pido)  \n\n"
"- [Flask](https://flask.palletsprojects.com/) ğŸ—ï¸ (ligero y flexible)  \n\n"
"- [Django REST Framework (DRF)](https://www.django-rest-framework.org/) ğŸ› ï¸ (ideal si usas Django)  \n"
"\n"
"ğŸ”¹ **ComunicaciÃ³n entre microservicios:**  \n\n"
"- **HTTP REST APIs** (con FastAPI, Flask, DRF).  \n\n"
"- **MensajerÃ­a asÃ­ncrona** con **RabbitMQ, Kafka, Redis Pub/Sub**.  \n\n"
"- **gRPC** (alta velocidad en comunicaciÃ³n binaria).  \n"
"\n"
"ğŸ”¹ **GestiÃ³n de microservicios:**  \n\n"
"- **Docker** (para contenerizaciÃ³n).  \n\n"
"- **Kubernetes** (para orquestaciÃ³n de servicios).  \n\n"
"- **Consul o etcd** (para descubrimiento de servicios).  \n"
"\n"
"## **ğŸ“Œ Ejemplo prÃ¡ctico de microservicio con Python y FastAPI**  \n\n"
"### ğŸ— **Caso de uso:**  \n\n"
"Construiremos un **sistema de pedidos** con dos microservicios:  \n\n"
"1ï¸âƒ£ **Microservicio de Usuarios** (`users_service.py`)  \n\n"
"2ï¸âƒ£ **Microservicio de Pedidos** (`orders_service.py`)  \n"
"\n"
"Los servicios se comunicarÃ¡n entre sÃ­ mediante **HTTP REST APIs**.\n"
"\n"
"### **1ï¸âƒ£ Microservicio de Usuarios (`users_service.py`)**\n\n"
"Este servicio gestiona usuarios y expone un endpoint para obtener informaciÃ³n de un usuario.  \n"
"\n"
"```\n\n"
"from fastapi import FastAPI\n"
"\n"
"app = FastAPI()\n"
"\n"
"# Base de datos simulada\n\n"
"users_db = {\n\n"
"    1: {'id': 1, 'nombre': 'Alice'},\n\n"
"    2: {'id': 2, 'nombre': 'Bob'}\n\n"
"}\n"
"\n"
"@app.get('/usuarios/{user_id}')\n\n"
"def obtener_usuario(user_id: int):\n\n"
"    usuario = users_db.get(user_id)\n\n"
"    if usuario:\n\n"
"        return usuario\n\n"
"    return {'error': 'Usuario no encontrado'}, 404\n"
"\n"
"# Ejecutar con: uvicorn users_service:app --reload --port 8001\n"
"```\n\n"
"ğŸ“Œ **ExplicaciÃ³n:**  \n\n"
"âœ”ï¸ **Usamos FastAPI** para exponer un endpoint `/usuarios/{user_id}`.  \n\n"
"âœ”ï¸ **Simulamos una base de datos** en `users_db`.  \n\n"
"âœ”ï¸ Si el usuario existe, lo devolvemos en JSON.  \n"
"\n"
"### **2ï¸âƒ£ Microservicio de Pedidos (`orders_service.py`)**\n\n"
"Este servicio gestiona pedidos y consulta el **microservicio de usuarios** para obtener informaciÃ³n de los clientes.\n"
"\n"
"```\n\n"
"from fastapi import FastAPI\n\n"
"import requests  # Para comunicarnos con el otro microservicio\n"
"\n"
"app = FastAPI()\n"
"\n"
"# Base de datos simulada de pedidos\n\n"
"orders_db = {\n\n"
"    1: {'id': 1, 'user_id': 1, 'producto': 'Laptop'},\n\n"
"    2: {'id': 2, 'user_id': 2, 'producto': 'TelÃ©fono'}\n\n"
"}\n"
"\n"
"USER_SERVICE_URL = 'http://127.0.0.1:8001/usuarios'  # URL del microservicio de usuarios\n"
"\n"
"@app.get('/pedidos/{order_id}')\n\n"
"def obtener_pedido(order_id: int):\n\n"
"    pedido = orders_db.get(order_id)\n\n"
"    if not pedido:\n\n"
"        return {'error': 'Pedido no encontrado'}, 404\n"
"\n"
"    # Llamamos al microservicio de usuarios\n\n"
"    user_response = requests.get(f'{USER_SERVICE_URL}/{pedido['user_id']}')\n"
"    \n"
"    if user_response.status_code == 200:\n\n"
"        pedido['cliente'] = user_response.json()\n\n"
"    else:\n\n"
"        pedido['cliente'] = {'error': 'Usuario no encontrado'}\n"
"\n"
"    return pedido\n"
"\n"
"# Ejecutar con: uvicorn orders_service:app --reload --port 8002\n"
"```\n\n"
"ğŸ“Œ **ExplicaciÃ³n:**  \n\n"
"âœ”ï¸ Exponemos un endpoint `/pedidos/{order_id}` para consultar pedidos.  \n\n"
"âœ”ï¸ Buscamos en `orders_db` el pedido solicitado.  \n\n"
"âœ”ï¸ Llamamos al **microservicio de usuarios** (`users_service`) con `requests.get()`.  \n\n"
"âœ”ï¸ Si el usuario existe, lo agregamos a la respuesta del pedido.  \n"
"\n"
"## **ğŸ“Œ Probando los microservicios**\n\n"
"### **1ï¸âƒ£ Iniciar ambos microservicios en terminales separadas**\n"
"```\n\n"
"uvicorn users_service:app --reload --port 8001\n"
"```\n"
"```\n\n"
"uvicorn orders_service:app --reload --port 8002\n"
"```\n"
"\n"
"### **2ï¸âƒ£ Probar el servicio de Usuarios**\n"
"```\n\n"
"curl http://127.0.0.1:8001/usuarios/1\n"
"```\n\n"
"**Respuesta esperada:**\n"
"```\n\n"
"{'id': 1, 'nombre': 'Alice'}\n"
"```\n"
"\n"
"### **3ï¸âƒ£ Probar el servicio de Pedidos**\n"
"```\n\n"
"curl http://127.0.0.1:8002/pedidos/1\n"
"```\n\n"
"**Respuesta esperada:**\n"
"```\n\n"
"{\n\n"
"    'id': 1,\n\n"
"    'user_id': 1,\n\n"
"    'producto': 'Laptop',\n\n"
"    'cliente': {\n\n"
"        'id': 1,\n\n"
"        'nombre': 'Alice'\n\n"
"    }\n\n"
"}\n"
"```\n\n"
"ğŸ“Œ **Â¡Ã‰xito!** El servicio de pedidos obtiene informaciÃ³n del usuario llamando al otro microservicio.  \n"
"\n"
"## **ğŸ“Œ Ventajas y Desventajas de Microservicios**\n\n"
"ğŸ”¹ **Ventajas:**  \n\n"
"âœ… Escalabilidad independiente de cada servicio.  \n\n"
"âœ… Despliegue modular y flexible.  \n\n"
"âœ… Menor acoplamiento (cada servicio se puede desarrollar y mantener por separado).  \n"
"\n"
"ğŸ”¹ **Desventajas:**  \n\n"
"âŒ Mayor complejidad en la comunicaciÃ³n entre servicios.  \n\n"
"âŒ Necesidad de gestionar la orquestaciÃ³n con herramientas como **Kubernetes**.  \n\n"
"âŒ Requiere **observabilidad** con herramientas como **Prometheus y Grafana** para monitoreo.  \n"
"\n"
"## **ğŸ“Œ Herramientas para Microservicios en Python**\n\n"
"âœ”ï¸ **FastAPI / Flask / Django REST Framework** â†’ Para construir APIs.  \n\n"
"âœ”ï¸ **Docker & Kubernetes** â†’ Para contenerizaciÃ³n y despliegue.  \n\n"
"âœ”ï¸ **RabbitMQ / Kafka / Redis** â†’ Para comunicaciÃ³n asÃ­ncrona entre servicios.  \n\n"
"âœ”ï¸ **PostgreSQL / MongoDB / Redis** â†’ Bases de datos para almacenamiento.  \n\n"
"âœ”ï¸ **Celery** â†’ Para tareas en segundo plano.  \n"
"\n"
"## **ğŸ¯ ConclusiÃ³n**\n\n"
"ğŸš€ **Los microservicios permiten crear aplicaciones escalables y modulares.**  \n\n"
"ğŸ”¥ Python, junto con **FastAPI**, Docker y Kubernetes, es ideal para implementarlos.  \n\n"
"ğŸ”— Â¡Ahora tienes la base para diseÃ±ar tus propios microservicios en Python! ğŸš€\n"
"\n"
"\n"